(function($){var j=true;var k=function(a){return confirm(a)};var l=function(a,b){$('#confirm-modal .yes').data('confirm-post-data',b)};var m={mainCheckboxClass:'main-checkbox',checkboxButtonIdent:'#checkbox-button',checkboxSelectorIdent:'#checkbox-selector',selectCheckboxClass:'select-checkbox',isUnactiveClass:'is-unactive',isActiveClass:'is-active',confirmDataKeyName:'confirm-post-data',dropDownMenuClass:'dropdown-menu'};var n=function(a){a.removeClass('any-checked checked btn-warning');a.addClass('btn-default');a.html('&nbsp;&nbsp;&nbsp;&nbsp;')};var o=function(a){a.addClass('checked btn-warning');a.removeClass('any-checked btn-default');a.html('<b class=\"glyphicon glyphicon-ok\"></b>')};var p=function(a){a.addClass('any-checked btn-warning');a.removeClass('checked btn-default');a.html('<b class=\"glyphicon glyphicon-minus\"></b>')};$(document).ready(function(){var d=$('.'+m.mainCheckboxClass).closest('.data-grid').find('tbody, ul');var f=function(a){var b=$(this).find('.'+m.selectCheckboxClass);if($(a).hasClass('checked')){n(b)}else{o(b)}};var g=function(a){var b=true;var c=false;d.find('tr, li').each(function(){if(!$(this).find('.'+m.selectCheckboxClass).hasClass('checked'))b=false;else c=true});if(!a){if(b){o($('.'+m.mainCheckboxClass))}else{if(c)p($('.'+m.mainCheckboxClass));else n($('.'+m.mainCheckboxClass))}}if(c)$(m.checkboxButtonIdent+' button').removeClass('disabled').closest('div').css('cursor','pointer');else $(m.checkboxButtonIdent+' button').addClass('disabled').closest('div').css('cursor','not-allowed')};$('#checkbox-selector .dropdown-toggle').find('a.btn').off('click.grid');$('.'+m.mainCheckboxClass).off('click.grid');$(m.checkboxSelectorIdent+' ul.'+m.dropDownMenuClass+' li a').off('click.grid');$(m.checkboxButtonIdent+' ul li a').on('click.grid');$('#checkbox-selector .dropdown-toggle').off('click.grid, mouseenter.grid, mouseleave.grid');$('#checkbox-selector .dropdown-toggle').find('a.btn').off('click.grid, mouseenter.grid, mouseleave.grid');$('.select-checkbox').off('click.grid');$(window).off('click.grid');$('.data-grid').find('td').off('click.grid');$('.'+m.mainCheckboxClass).on('click.grid',function(e){e.stopPropagation();var a=$(this);d.find('tr, li').each(f,a);g(true)});$(m.checkboxSelectorIdent+' ul.'+m.dropDownMenuClass+' li a').on('click.grid',function(e){e.preventDefault();switch($(this).attr('data-select')){case'active':d.find('tr, li').each(function(){if($(this).find('.'+m.isActiveClass).is('*'))o($(this).find('.'+m.selectCheckboxClass));else n($(this).find('.'+m.selectCheckboxClass))});break;case'unactive':d.find('tr, li').each(function(){if($(this).find('.'+m.isUnactiveClass).is('*'))o($(this).find('.'+m.selectCheckboxClass));else n($(this).find('.'+m.selectCheckboxClass))});break;case'inverse':d.find('tr, li').each(function(){var a=$(this).find('.'+m.selectCheckboxClass);if(a.hasClass('checked'))n(a);else o(a)});break}g()});$(m.checkboxButtonIdent+' ul li a').on('click.grid',function(e){e.preventDefault();var a=[];d.find('.'+m.selectCheckboxClass+'.checked').each(function(){a.push($(this).attr('data-value'))});if(a.length>0){var b=$(this).attr('data-confirm');if(j&&b){if(k(b)){$.post($(this).attr('href'),{selected:a})}}else if(b){l($(this).attr('href'),{selected:a})}else{$.post($(this).attr('href'),{selected:a})}}});var h=false,inButton=false;$('#checkbox-selector .dropdown-toggle').on({'click.grid':function(e){e.preventDefault();if(h){return}var a=$(this).closest('.btn-group');a.addClass('open')},'mouseenter.grid':function(){inButton=true},'mouseleave.grid':function(){inButton=false}});$('#checkbox-selector .dropdown-toggle').find('a.btn').on({'click.grid':function(e){e.preventDefault();var a=$(this);if(a.hasClass('checked')){n(a)}else{o(a)}},'mouseenter.grid':function(){h=true},'mouseleave.grid':function(){h=false}});var i=function(a){if(a.hasClass('checked')){n(a)}else{o(a)}g()};$('.'+m.selectCheckboxClass).on('click.grid',function(e){e.preventDefault();var a=$(this);i(a)});$(window).on('click.grid',function(){if(!inButton)$('#checkbox-selector').removeClass('open')})})})(jQuery);